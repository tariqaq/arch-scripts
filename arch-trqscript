#connect to internet using iwctl b4 running script
#partition disks b4 runnning script with cfdisk -_-

#Verify its in EFI mode
clear
echo "Verifying EFI boot mode" 
echo "----------------------------------------------------------------"
ls /sys/firmware/efi/efivars
sleep 5
echo "----------------------------------------------------------------"

#Ping for cheking internet connectivity
echo "Pinging for Connectivity Check"
ping -c 5 archlinux.org
sleep 5
echo "----------------------------------------------------------------"

#Auto sync clock and set to Kuwait Time
echo "Syncing Time and Setting it to Kuwait"
timedatectl set-ntp true > /dev/null && timedatectl set-timezone Asia/Kuwait > /dev/null && timedatectl status
sleep 5
echo "----------------------------------------------------------------"

#Format Partitions
#Swap part
lsblk
sleep 2
echo "Formatting Swap Partition"
read -p "Enter Swap Partition Path: " swappath
mkswap $swappath 
echo "----------------------------------------------------------------"
#Root part
echo "Formatting Root Partition"
read -p "Enter Root / Partition Path: " rootpath
mkfs.ext4 $rootpath 
echo "----------------------------------------------------------------"

#Mount the partitions
#EFI part
lsblk
sleep 2
echo "Mounting EFI Partition"
read -p "Enter Boot Partition Path: " bootpath
mkdir /mnt/efi
sleep 2
mount $bootpath /mnt/efi
sleep 1 
echo "----------------------------------------------------------------"
#Swap part
echo "Turning on Swap"
swapon $swappath
sleep 1
echo "----------------------------------------------------------------"
#Root part
echo "Mounting Root Partition"
mount $rootpath /mnt
sleep 1
lsblk
echo "----------------------------------------------------------------"


